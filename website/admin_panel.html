<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shree Yash Creations - Admin Panel</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FFF8DC 0%, #F5F5DC 100%);
            min-height: 100vh;
        }

        .admin-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            padding: 2rem 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            text-align: center;
            padding: 0 1rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .sidebar-header h2 {
            color: #FFD700;
            font-family: 'Times New Roman', serif;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .sidebar-header img {
            height: 40px;
            width: auto;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .sidebar-menu {
            padding: 2rem 0;
        }

        .menu-item {
            padding: 1rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .menu-item:hover, .menu-item.active {
            background: rgba(255,255,255,0.1);
            border-left-color: #FFD700;
        }

        .menu-item i {
            margin-right: 1rem;
            width: 20px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 2rem;
        }

        .header {
            background: white;
            padding: 1.5rem 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            color: #8B4513;
            font-family: 'Times New Roman', serif;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-card i {
            font-size: 2rem;
            color: #FF6B35;
            margin-bottom: 1rem;
        }

        .stat-card h3 {
            font-size: 2rem;
            color: #8B4513;
            margin-bottom: 0.5rem;
        }

        .stat-card p {
            color: #666;
        }

        /* Content Sections */
        .content-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .section-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-header h2 {
            color: #8B4513;
            font-family: 'Times New Roman', serif;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(45deg, #FF6B35, #F7931E);
            color: white;
        }

        .btn-secondary {
            background: #ecf0f1;
            color: #2c3e50;
            border: 1px solid #bdc3c7;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Tables */
        .table-container {
            padding: 2rem;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background: #f8f9fa;
            font-weight: bold;
            color: #8B4513;
        }

        tr:hover {
            background: #f8f9fa;
        }

        /* Status Badges */
        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .status-pending {
            background: #ffeaa7;
            color: #d63031;
        }

        .status-confirmed {
            background: #74b9ff;
            color: white;
        }

        .status-processing {
            background: #fd79a8;
            color: white;
        }

        .status-shipped {
            background: #fdcb6e;
            color: #2d3436;
        }

        .status-out_for_delivery {
            background: #6c5ce7;
            color: white;
        }

        .status-delivered {
            background: #00b894;
            color: white;
        }

        .status-cancelled {
            background: #e17055;
            color: white;
        }

        .status-returned {
            background: #636e72;
            color: white;
        }

        .status-paid {
            background: #00b894;
            color: white;
        }

        .status-failed {
            background: #e17055;
            color: white;
        }

        .status-refunded {
            background: #fdcb6e;
            color: #2d3436;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal.active {
            display: block;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: linear-gradient(45deg, #8B4513, #A0522D);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            color: #FFD700;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #FFD700;
        }

        .form-container {
            padding: 2rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #8B4513;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #FF6B35;
        }

        .image-preview {
            width: 100px;
            height: 100px;
            border: 2px dashed #ddd;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0.5rem;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 3px;
        }

        .order-info {
            margin-bottom: 1.5rem;
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-shipped {
            background: #d4edda;
            color: #155724;
        }

        .status-delivered {
            background: #d1e7dd;
            color: #0f5132;
        }

        /* Forms */
        .form-container {
            padding: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #8B4513;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .image-preview {
            width: 100px;
            height: 100px;
            border: 2px dashed #ddd;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0.5rem;
            background: #f8f9fa;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 3px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        .close {
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2><img src="logo.jpeg" alt="Logo"> Admin Panel</h2>
                <p>Shree Yash Creations</p>
            </div>
            <div class="sidebar-menu">
                <div class="menu-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </div>
                <div class="menu-item" data-section="products">
                    <i class="fas fa-box"></i> Products
                </div>
                <div class="menu-item" data-section="orders">
                    <i class="fas fa-shopping-cart"></i> Orders
                </div>
                <div class="menu-item" data-section="customers">
                    <i class="fas fa-users"></i> Customers
                </div>
                <div class="menu-item" data-section="payments">
                    <i class="fas fa-credit-card"></i> Payments
                </div>
                <div class="menu-item" data-section="inventory">
                    <i class="fas fa-warehouse"></i> Inventory
                </div>
                <div class="menu-item" data-section="settings">
                    <i class="fas fa-cog"></i> Settings
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <h1>Dashboard</h1>
                <div>
                    <span>Welcome, Admin</span>
                    <button class="btn btn-secondary" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div class="content-section active" id="dashboard">
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>24</h3>
                        <p>Total Orders</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-rupee-sign"></i>
                        <h3>₹1,250</h3>
                        <p>Total Revenue</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3>156</h3>
                        <p>Customers</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-box"></i>
                        <h3>18</h3>
                        <p>Products</p>
                    </div>
                </div>

                <div class="content-section">
                    <div class="section-header">
                        <h2>Recent Orders</h2>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Product</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#ORD001</td>
                                    <td>Priya Sharma</td>
                                    <td>Traditional Saree Cover</td>
                                    <td>₹149</td>
                                    <td><span class="status-badge status-delivered">Delivered</span></td>
                                    <td>2024-01-15</td>
                                </tr>
                                <tr>
                                    <td>#ORD002</td>
                                    <td>Rajesh Kumar</td>
                                    <td>Designer Saree Cover</td>
                                    <td>₹209</td>
                                    <td><span class="status-badge status-shipped">Shipped</span></td>
                                    <td>2024-01-14</td>
                                </tr>
                                <tr>
                                    <td>#ORD003</td>
                                    <td>Meera Patel</td>
                                    <td>Premium Saree Cover</td>
                                    <td>₹99</td>
                                    <td><span class="status-badge status-confirmed">Confirmed</span></td>
                                    <td>2024-01-13</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Products Section -->
            <div class="content-section" id="products">
                <div class="section-header">
                    <h2>Product Management</h2>
                    <button class="btn btn-primary" onclick="openModal('addProductModal')">
                        <i class="fas fa-plus"></i> Add Product
                    </button>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><img src="OIP.jpeg" alt="Product" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px;"></td>
                                <td>Traditional Saree Cover</td>
                                <td>Saree Covers</td>
                                <td>₹149</td>
                                <td>25</td>
                                <td><span class="status-badge status-confirmed">Active</span></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="editProduct(1)">Edit</button>
                                    <button class="btn btn-secondary" onclick="deleteProduct(1)">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td><img src="OIP.jpeg" alt="Product" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px;"></td>
                                <td>Designer Saree Cover</td>
                                <td>Saree Covers</td>
                                <td>₹209</td>
                                <td>15</td>
                                <td><span class="status-badge status-confirmed">Active</span></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="editProduct(2)">Edit</button>
                                    <button class="btn btn-secondary" onclick="deleteProduct(2)">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Section -->
            <div class="content-section" id="orders">
                <div class="section-header">
                    <h2>Order Management</h2>
                    <div>
                        <button class="btn btn-primary" onclick="addNewOrder()">
                            <i class="fas fa-plus"></i> Add New Order
                        </button>
                        <button class="btn btn-secondary" onclick="refreshOrders()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>
                <div class="table-container">
                    <table id="ordersTable">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer Details</th>
                                <th>Products</th>
                                <th>Total Amount</th>
                                <th>Payment Status</th>
                                <th>Order Status</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- Orders will be loaded dynamically -->
                        </tbody>
                    </table>
                </div>
                <div style="text-align:right; margin-bottom:1rem;">
                    <a href="orders_management.html" class="btn btn-primary" style="background: #FF6B35; border: none; padding: 12px 24px; font-size: 16px; margin-right: 1rem;">
                        <i class="fas fa-shopping-cart"></i> Manage Orders
                    </a>
                    <button class="btn btn-primary" onclick="exportOrders()" style="background: #27ae60; border: none; padding: 12px 24px; font-size: 16px;">
                        <i class="fas fa-file-excel"></i> Export All Orders to Excel
                    </button>
                </div>
            </div>

            <!-- Other sections can be added similarly -->
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Product</h2>
                <span class="close" onclick="closeModal('addProductModal')">&times;</span>
            </div>
            <div class="form-container">
                <form id="addProductForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Product Name</label>
                            <input type="text" name="name" required>
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select name="category" required>
                                <option value="">Select Category</option>
                                <option value="Shirt Covers">Shirt Covers</option>
                                <option value="Garment Bags">Garment Bags</option>
                                <option value="Hangers & Accessories">Hangers & Accessories</option>
                                <option value="Gift Packaging">Gift Packaging</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Price (₹)</label>
                            <input type="number" name="price" required>
                        </div>
                        <div class="form-group">
                            <label>Stock Quantity</label>
                            <input type="number" name="stock" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea name="description" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Product Image</label>
                        <input type="file" name="image" accept="image/*" onchange="previewImage(this)">
                        <div class="image-preview" id="imagePreview">
                            <i class="fas fa-image"></i>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Add Product</button>
                        <button type="button" class="btn btn-secondary" onclick="closeModal('addProductModal')">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Update Order Status Modal -->
    <div class="modal" id="updateStatusModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Update Order Status</h2>
                <span class="close" onclick="closeModal('updateStatusModal')">&times;</span>
            </div>
            <div class="form-container">
                <div class="order-info" id="orderInfo">
                    <!-- Order details will be populated here -->
                </div>
                <form id="updateStatusForm">
                    <input type="hidden" id="currentOrderId" name="orderId">
                    <div class="form-group">
                        <label>Order Status</label>
                        <select id="orderStatus" name="orderStatus" required>
                            <option value="">Select Status</option>
                            <option value="pending">Pending</option>
                            <option value="confirmed">Confirmed</option>
                            <option value="processing">Processing</option>
                            <option value="shipped">Shipped</option>
                            <option value="out_for_delivery">Out for Delivery</option>
                            <option value="delivered">Delivered</option>
                            <option value="cancelled">Cancelled</option>
                            <option value="returned">Returned</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Payment Status</label>
                        <select id="paymentStatus" name="paymentStatus" required>
                            <option value="">Select Payment Status</option>
                            <option value="pending">Pending</option>
                            <option value="paid">Paid</option>
                            <option value="failed">Failed</option>
                            <option value="refunded">Refunded</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tracking Number (Optional)</label>
                        <input type="text" id="trackingNumber" name="trackingNumber" placeholder="Enter tracking number">
                    </div>
                    <div class="form-group">
                        <label>Notes (Optional)</label>
                        <textarea id="orderNotes" name="notes" rows="3" placeholder="Add any additional notes about this order"></textarea>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Update Status</button>
                        <button type="button" class="btn btn-secondary" onclick="closeModal('updateStatusModal')">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add New Order Modal -->
    <div class="modal" id="addOrderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Order</h2>
                <span class="close" onclick="closeModal('addOrderModal')">&times;</span>
            </div>
            <div class="form-container">
                <form id="addOrderForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Customer Name</label>
                            <input type="text" name="customerName" required>
                        </div>
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input type="tel" name="phone" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label>Product</label>
                        <select name="product" required>
                            <option value="">Select Product</option>
                            <option value="Traditional Saree Cover">Traditional Saree Cover</option>
                            <option value="Designer Saree Cover">Designer Saree Cover</option>
                            <option value="Premium Saree Cover">Premium Saree Cover</option>
                            <option value="Elegant Saree Cover">Elegant Saree Cover</option>
                            <option value="Classic Saree Cover">Classic Saree Cover</option>
                            <option value="Deluxe Saree Cover">Deluxe Saree Cover</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quantity</label>
                            <input type="number" name="quantity" min="1" value="1" required>
                        </div>
                        <div class="form-group">
                            <label>Total Amount (₹)</label>
                            <input type="number" name="amount" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Order Status</label>
                            <select name="orderStatus" required>
                                <option value="pending">Pending</option>
                                <option value="confirmed">Confirmed</option>
                                <option value="processing">Processing</option>
                                <option value="shipped">Shipped</option>
                                <option value="delivered">Delivered</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Payment Status</label>
                            <select name="paymentStatus" required>
                                <option value="pending">Pending</option>
                                <option value="paid">Paid</option>
                                <option value="failed">Failed</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Add Order</button>
                        <button type="button" class="btn btn-secondary" onclick="closeModal('addOrderModal')">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Sample orders data - In real application, this would come from database
        let orders = [
            {
                id: 'ORD001',
                customer: {
                    name: 'Priya Sharma',
                    phone: '+91 98290XXXXX',
                    email: 'priya@email.com'
                },
                products: 'Traditional Saree Cover x1',
                amount: 149,
                paymentStatus: 'paid',
                orderStatus: 'delivered',
                date: '2024-01-15',
                trackingNumber: 'TRK123456789',
                notes: 'Delivered successfully to customer'
            },
            {
                id: 'ORD002',
                customer: {
                    name: 'Rajesh Kumar',
                    phone: '+91 98290XXXXX',
                    email: 'rajesh@email.com'
                },
                products: 'Designer Saree Cover x1',
                amount: 209,
                paymentStatus: 'paid',
                orderStatus: 'shipped',
                date: '2024-01-14',
                trackingNumber: 'TRK987654321',
                notes: 'Package shipped via courier'
            },
            {
                id: 'ORD003',
                customer: {
                    name: 'Meera Patel',
                    phone: '+91 98290XXXXX',
                    email: 'meera@email.com'
                },
                products: 'Premium Saree Cover x2',
                amount: 198,
                paymentStatus: 'pending',
                orderStatus: 'confirmed',
                date: '2024-01-13',
                trackingNumber: '',
                notes: 'Awaiting payment confirmation'
            }
        ];

        // Navigation
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function() {
                // Remove active class from all menu items and sections
                document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
                document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked item
                this.classList.add('active');
                
                // Show corresponding section
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
                
                // Update header title
                document.querySelector('.header h1').textContent = this.textContent.trim();
                
                // Load orders if orders section is active
                if (sectionId === 'orders') {
                    loadOrders();
                }
            });
        });

        // Load orders into table
        function loadOrders() {
            const tbody = document.getElementById('ordersTableBody');
            tbody.innerHTML = '';
            
            orders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>#${order.id}</td>
                    <td>
                        <strong>${order.customer.name}</strong><br>
                        ${order.customer.phone}<br>
                        ${order.customer.email}
                    </td>
                    <td>${order.products}</td>
                    <td>₹${order.amount}</td>
                    <td><span class="status-badge status-${order.paymentStatus}">${getStatusText(order.paymentStatus)}</span></td>
                    <td><span class="status-badge status-${order.orderStatus}">${getStatusText(order.orderStatus)}</span></td>
                    <td>${order.date}</td>
                    <td>
                        <button class="btn btn-secondary" onclick="viewOrder('${order.id}')">View</button>
                        <button class="btn btn-primary" onclick="openUpdateStatusModal('${order.id}')">Update</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Get status text for display
        function getStatusText(status) {
            const statusMap = {
                'pending': 'Pending',
                'confirmed': 'Confirmed',
                'processing': 'Processing',
                'shipped': 'Shipped',
                'out_for_delivery': 'Out for Delivery',
                'delivered': 'Delivered',
                'cancelled': 'Cancelled',
                'returned': 'Returned',
                'paid': 'Paid',
                'failed': 'Failed',
                'refunded': 'Refunded'
            };
            return statusMap[status] || status;
        }

        // Open update status modal
        function openUpdateStatusModal(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;
            
            // Populate order info
            document.getElementById('orderInfo').innerHTML = `
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 5px; margin-bottom: 1rem;">
                    <h3 style="color: #8B4513; margin-bottom: 0.5rem;">Order #${order.id}</h3>
                    <p><strong>Customer:</strong> ${order.customer.name}</p>
                    <p><strong>Products:</strong> ${order.products}</p>
                    <p><strong>Amount:</strong> ₹${order.amount}</p>
                    <p><strong>Date:</strong> ${order.date}</p>
                </div>
            `;
            
            // Set current values
            document.getElementById('currentOrderId').value = orderId;
            document.getElementById('orderStatus').value = order.orderStatus;
            document.getElementById('paymentStatus').value = order.paymentStatus;
            document.getElementById('trackingNumber').value = order.trackingNumber || '';
            document.getElementById('orderNotes').value = order.notes || '';
            
            openModal('updateStatusModal');
        }

        // Add new order
        function addNewOrder() {
            openModal('addOrderModal');
        }

        // Refresh orders
        function refreshOrders() {
            // In real application, this would fetch from server
            loadOrders();
            alert('Orders refreshed successfully!');
        }

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            // Reset forms
            if (modalId === 'addProductModal') {
                document.getElementById('addProductForm').reset();
                document.getElementById('imagePreview').innerHTML = '<i class="fas fa-image"></i>';
            }
            if (modalId === 'addOrderModal') {
                document.getElementById('addOrderForm').reset();
            }
            if (modalId === 'updateStatusModal') {
                document.getElementById('updateStatusForm').reset();
            }
        }

        // Image preview
        function previewImage(input) {
            const preview = document.getElementById('imagePreview');
            const file = input.files[0];
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
                }
                reader.readAsDataURL(file);
            }
        }

        // Form submissions
        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Product added successfully!');
            closeModal('addProductModal');
        });

        document.getElementById('addOrderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            // Create new order object
            const newOrder = {
                id: 'ORD' + String(orders.length + 1).padStart(3, '0'),
                customer: {
                    name: formData.get('customerName'),
                    phone: formData.get('phone'),
                    email: formData.get('email')
                },
                products: formData.get('product') + ' x' + formData.get('quantity'),
                amount: parseInt(formData.get('amount')),
                paymentStatus: formData.get('paymentStatus'),
                orderStatus: formData.get('orderStatus'),
                date: new Date().toISOString().split('T')[0],
                trackingNumber: '',
                notes: ''
            };
            
            orders.push(newOrder);
            loadOrders();
            closeModal('addOrderModal');
            alert('Order added successfully!');
        });

        document.getElementById('updateStatusForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const orderId = formData.get('orderId');
            const order = orders.find(o => o.id === orderId);
            
            if (order) {
                order.orderStatus = formData.get('orderStatus');
                order.paymentStatus = formData.get('paymentStatus');
                order.trackingNumber = formData.get('trackingNumber');
                order.notes = formData.get('notes');
                
                loadOrders();
                closeModal('updateStatusModal');
                alert('Order status updated successfully!');
            }
        });

        // Other functions
        function editProduct(id) {
            alert('Edit product ' + id);
        }

        function deleteProduct(id) {
            if (confirm('Are you sure you want to delete this product?')) {
                alert('Product deleted!');
            }
        }

        function viewOrder(id) {
            const order = orders.find(o => o.id === id);
            if (order) {
                alert(`Order Details:\n\nOrder ID: ${order.id}\nCustomer: ${order.customer.name}\nProducts: ${order.products}\nAmount: ₹${order.amount}\nStatus: ${getStatusText(order.orderStatus)}\nPayment: ${getStatusText(order.paymentStatus)}\nDate: ${order.date}\nTracking: ${order.trackingNumber || 'N/A'}\nNotes: ${order.notes || 'N/A'}`);
            }
        }

        function exportOrders() {
            // Show loading message
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating Excel...';
            button.disabled = true;
            
            // Create a temporary link to download the file
            const link = document.createElement('a');
            link.href = 'api/orders_export.php';
            link.download = 'Shree_Yash_Creations_Orders_' + new Date().toISOString().split('T')[0] + '.xls';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Reset button after a short delay
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
                alert('Excel file downloaded successfully! Check your downloads folder.');
            }, 2000);
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                window.location.href = 'home.html';
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }

        // Initialize orders when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadOrders();
        });
    </script>
</body>
</html> 